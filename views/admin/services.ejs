<%- include('../partials/navbar', { admin: admin }) %>
<script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container py-5">
  <h2 class="mb-4 fw-bold">Manage Services</h2>

  <form action="/admin/services/add" method="POST" class="card card-body shadow-sm mb-4">
    <div class="mb-2">
      <input type="text" name="title" placeholder="Title" class="form-control" required>
    </div>
    
    <div class="mb-2">
      <textarea name="description" placeholder="Description" class="form-control" required></textarea>
    </div>
    <div class="mb-2">
      <input type="number" step="0.01" name="price" placeholder="Price" class="form-control" required>
    </div>
    <button class="btn btn-primary">Add Service</button>
  </form>

  <table class="table table-bordered table-hover shadow-sm">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Description</th>
        
        <th>Price</th>
        <th>Created At</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% services.forEach(service => { %>
        <tr>
          <td><%= service.id %></td>
          <td class="fw-semibold"><%= service.title %></td>
          <td><%= service.description %></td>
          
          <td>â‚¹ <%= service.price %></td>
          <td><%= new Date(service.created_at).toLocaleDateString() %></td>
          <td>
            <a href="/admin/services/edit/<%= service.id %>" class="btn btn-sm btn-warning">Edit</a>
            <a href="/admin/services/delete/<%= service.id %>"
               onclick="return confirm('Delete this service?')"
               class="btn btn-sm btn-danger">Delete</a>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
